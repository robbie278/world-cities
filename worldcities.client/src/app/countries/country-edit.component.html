<div class="country-edit">
    <h1>{{title}}</h1>
  <p *ngIf=" id && !country"><em>Loding.....</em></p>

<form [formGroup]="form" (ngSubmit)="onSubmit()">

  <mat-form-field>
        <mat-label>Name:</mat-label>
        <input matInput formControlName="name" required placeholder="Type a Name">
        <mat-error *ngfor="let error of getErrors(form.get('name')!, 'Name')">
                {{error}}
        </mat-error>
        <mat-error *ngIf=" form.controls['name'].errors?.['isDupeField']">
            Name already exists: Please choose another
        </mat-error>
  </mat-form-field>

  <mat-form-field>
    <mat-label> ISO 3166-1 ALPHA-2 Country code (2 letters) :</mat-label>
    <input matInput formControlName="iso2" required placeholder="Insert the ISO2 Country code">
       <mat-error *ngFor="let error of getErrors(form.get('iso2')!,  'ISO 3166-1 ALPHA 2 Country code')">
                {{error}}
                </mat-error>
</mat-form-field>

<mat-form-field>
    <mat-label> ISO 3166-1 ALPHA-3 Country code (3 letters):</mat-label>

    <input matInput formControlName="iso3" required placeholder="Insert the ISO3 Country code">

     <mat-error *ngFor="let error of getErrors(form.get('iso3')!, 'ISO 3166-1 ALPHA 3 Country code')">          
             {{error}}
            </mat-error>
</mat-form-field>

<div>
    <button mat-flat-button type="submit" color="primary" [disabled]="!form.valid">{{this.id? "Save" : "Create"}}</button>
    <button mat-flat-button color="secondary" [routerLink]="['/countries']">Cancel</button>
</div>

</form>
</div>
